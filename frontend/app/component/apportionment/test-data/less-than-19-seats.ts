import { ApportionmentResult, ApportionmentStep, Election } from "@kiesraad/api";

export const highest_surplus_steps: ApportionmentStep[] = [
  {
    rest_seat_number: 1,
    change: {
      assigned_by: "HighestSurplus",
      selected_pg_number: 2,
      pg_options: [2],
      surplus_votes: {
        integer: 60,
        numerator: 0,
        denominator: 15,
      },
    },
    standing: [
      {
        pg_number: 1,
        votes_cast: 808,
        surplus_votes: {
          integer: 8,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 73,
          numerator: 5,
          denominator: 11,
        },
        whole_seats: 10,
        rest_seats: 0,
      },
      {
        pg_number: 2,
        votes_cast: 60,
        surplus_votes: {
          integer: 60,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 60,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 3,
        votes_cast: 58,
        surplus_votes: {
          integer: 58,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 58,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 4,
        votes_cast: 57,
        surplus_votes: {
          integer: 57,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 57,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 5,
        votes_cast: 56,
        surplus_votes: {
          integer: 56,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 56,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 6,
        votes_cast: 55,
        surplus_votes: {
          integer: 55,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 55,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 7,
        votes_cast: 54,
        surplus_votes: {
          integer: 54,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 54,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 8,
        votes_cast: 52,
        surplus_votes: {
          integer: 52,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 52,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
    ],
  },
  {
    rest_seat_number: 2,
    change: {
      assigned_by: "HighestSurplus",
      selected_pg_number: 1,
      pg_options: [1],
      surplus_votes: {
        integer: 8,
        numerator: 0,
        denominator: 15,
      },
    },
    standing: [
      {
        pg_number: 1,
        votes_cast: 808,
        surplus_votes: {
          integer: 8,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 73,
          numerator: 5,
          denominator: 11,
        },
        whole_seats: 10,
        rest_seats: 0,
      },
      {
        pg_number: 2,
        votes_cast: 60,
        surplus_votes: {
          integer: 60,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 30,
          numerator: 0,
          denominator: 2,
        },
        whole_seats: 0,
        rest_seats: 1,
      },
      {
        pg_number: 3,
        votes_cast: 58,
        surplus_votes: {
          integer: 58,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 58,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 4,
        votes_cast: 57,
        surplus_votes: {
          integer: 57,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 57,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 5,
        votes_cast: 56,
        surplus_votes: {
          integer: 56,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 56,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 6,
        votes_cast: 55,
        surplus_votes: {
          integer: 55,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 55,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 7,
        votes_cast: 54,
        surplus_votes: {
          integer: 54,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 54,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 8,
        votes_cast: 52,
        surplus_votes: {
          integer: 52,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 52,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
    ],
  },
];

export const highest_average_steps: ApportionmentStep[] = [
  {
    rest_seat_number: 3,
    change: {
      assigned_by: "HighestAverage",
      selected_pg_number: 1,
      pg_options: [1],
      votes_per_seat: {
        integer: 67,
        numerator: 4,
        denominator: 12,
      },
    },
    standing: [
      {
        pg_number: 1,
        votes_cast: 808,
        surplus_votes: {
          integer: 8,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 67,
          numerator: 4,
          denominator: 12,
        },
        whole_seats: 10,
        rest_seats: 1,
      },
      {
        pg_number: 2,
        votes_cast: 60,
        surplus_votes: {
          integer: 60,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 30,
          numerator: 0,
          denominator: 2,
        },
        whole_seats: 0,
        rest_seats: 1,
      },
      {
        pg_number: 3,
        votes_cast: 58,
        surplus_votes: {
          integer: 58,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 58,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 4,
        votes_cast: 57,
        surplus_votes: {
          integer: 57,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 57,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 5,
        votes_cast: 56,
        surplus_votes: {
          integer: 56,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 56,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 6,
        votes_cast: 55,
        surplus_votes: {
          integer: 55,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 55,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 7,
        votes_cast: 54,
        surplus_votes: {
          integer: 54,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 54,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 8,
        votes_cast: 52,
        surplus_votes: {
          integer: 52,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 52,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
    ],
  },
  {
    rest_seat_number: 4,
    change: {
      assigned_by: "HighestAverage",
      selected_pg_number: 3,
      pg_options: [3],
      votes_per_seat: {
        integer: 58,
        numerator: 0,
        denominator: 1,
      },
    },
    standing: [
      {
        pg_number: 1,
        votes_cast: 808,
        surplus_votes: {
          integer: 8,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 62,
          numerator: 2,
          denominator: 13,
        },
        whole_seats: 10,
        rest_seats: 2,
      },
      {
        pg_number: 2,
        votes_cast: 60,
        surplus_votes: {
          integer: 60,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 30,
          numerator: 0,
          denominator: 2,
        },
        whole_seats: 0,
        rest_seats: 1,
      },
      {
        pg_number: 3,
        votes_cast: 58,
        surplus_votes: {
          integer: 58,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 58,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 4,
        votes_cast: 57,
        surplus_votes: {
          integer: 57,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 57,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 5,
        votes_cast: 56,
        surplus_votes: {
          integer: 56,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 56,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 6,
        votes_cast: 55,
        surplus_votes: {
          integer: 55,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 55,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 7,
        votes_cast: 54,
        surplus_votes: {
          integer: 54,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 54,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 8,
        votes_cast: 52,
        surplus_votes: {
          integer: 52,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 52,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
    ],
  },
  {
    rest_seat_number: 5,
    change: {
      assigned_by: "HighestAverage",
      selected_pg_number: 4,
      pg_options: [4],
      votes_per_seat: {
        integer: 57,
        numerator: 0,
        denominator: 1,
      },
    },
    standing: [
      {
        pg_number: 1,
        votes_cast: 808,
        surplus_votes: {
          integer: 8,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 62,
          numerator: 2,
          denominator: 13,
        },
        whole_seats: 10,
        rest_seats: 2,
      },
      {
        pg_number: 2,
        votes_cast: 60,
        surplus_votes: {
          integer: 60,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: true,
        next_votes_per_seat: {
          integer: 30,
          numerator: 0,
          denominator: 2,
        },
        whole_seats: 0,
        rest_seats: 1,
      },
      {
        pg_number: 3,
        votes_cast: 58,
        surplus_votes: {
          integer: 58,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 29,
          numerator: 0,
          denominator: 2,
        },
        whole_seats: 0,
        rest_seats: 1,
      },
      {
        pg_number: 4,
        votes_cast: 57,
        surplus_votes: {
          integer: 57,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 57,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 5,
        votes_cast: 56,
        surplus_votes: {
          integer: 56,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 56,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 6,
        votes_cast: 55,
        surplus_votes: {
          integer: 55,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 55,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 7,
        votes_cast: 54,
        surplus_votes: {
          integer: 54,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 54,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
      {
        pg_number: 8,
        votes_cast: 52,
        surplus_votes: {
          integer: 52,
          numerator: 0,
          denominator: 15,
        },
        meets_surplus_threshold: false,
        next_votes_per_seat: {
          integer: 52,
          numerator: 0,
          denominator: 1,
        },
        whole_seats: 0,
        rest_seats: 0,
      },
    ],
  },
];

export const apportionment: ApportionmentResult = {
  seats: 15,
  whole_seats: 10,
  rest_seats: 5,
  quota: {
    integer: 80,
    numerator: 0,
    denominator: 15,
  },
  steps: highest_surplus_steps.concat(highest_average_steps),
  final_standing: [
    {
      pg_number: 1,
      votes_cast: 808,
      surplus_votes: {
        integer: 8,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: true,
      whole_seats: 10,
      rest_seats: 2,
      total_seats: 12,
    },
    {
      pg_number: 2,
      votes_cast: 60,
      surplus_votes: {
        integer: 60,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: true,
      whole_seats: 0,
      rest_seats: 1,
      total_seats: 1,
    },
    {
      pg_number: 3,
      votes_cast: 58,
      surplus_votes: {
        integer: 58,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: false,
      whole_seats: 0,
      rest_seats: 1,
      total_seats: 1,
    },
    {
      pg_number: 4,
      votes_cast: 57,
      surplus_votes: {
        integer: 57,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: false,
      whole_seats: 0,
      rest_seats: 1,
      total_seats: 1,
    },
    {
      pg_number: 5,
      votes_cast: 56,
      surplus_votes: {
        integer: 56,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: false,
      whole_seats: 0,
      rest_seats: 0,
      total_seats: 0,
    },
    {
      pg_number: 6,
      votes_cast: 55,
      surplus_votes: {
        integer: 55,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: false,
      whole_seats: 0,
      rest_seats: 0,
      total_seats: 0,
    },
    {
      pg_number: 7,
      votes_cast: 54,
      surplus_votes: {
        integer: 54,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: false,
      whole_seats: 0,
      rest_seats: 0,
      total_seats: 0,
    },
    {
      pg_number: 8,
      votes_cast: 52,
      surplus_votes: {
        integer: 52,
        numerator: 0,
        denominator: 15,
      },
      meets_surplus_threshold: false,
      whole_seats: 0,
      rest_seats: 0,
      total_seats: 0,
    },
  ],
};

export const election: Election = {
  id: 2,
  name: "Test Election < 19 seats",
  location: "Test Location",
  number_of_voters: 2000,
  category: "Municipal",
  number_of_seats: 15,
  election_date: "2026-01-01",
  nomination_date: "2026-01-01",
  status: "DataEntryInProgress",
  political_groups: [
    {
      number: 1,
      name: "Political Group A",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 2,
      name: "Political Group B",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 3,
      name: "Political Group C",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 4,
      name: "Political Group D",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 5,
      name: "Political Group E",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 6,
      name: "Political Group F",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 7,
      name: "Political Group G",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
    {
      number: 8,
      name: "Political Group H",
      candidates: [
        {
          number: 1,
          initials: "A.",
          first_name: "Alice",
          last_name: "Foo",
          locality: "Amsterdam",
          gender: "Female",
        },
        {
          number: 2,
          initials: "C.",
          first_name: "Charlie",
          last_name: "Doe",
          locality: "Rotterdam",
        },
      ],
    },
  ],
};
