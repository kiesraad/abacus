components:
  # Backend modules
  - name: "(Backend) Airgap detection"
    include:
      - ".*/backend/src/airgap/.*"
  - name: "(Backend) Audit Log"
    include:
      - ".*/backend/src/audit_log/.*"
  - name: "(Backend) Authentication"
    include:
      - ".*/backend/src/authentication/.*"
  - name: "(Backend) Committee Session"
    include:
      - ".*/backend/src/committee_session/.*"
  - name: "(Backend) Data entry"
    include:
      - ".*/backend/src/data_entry/.*"
  - name: "(Backend) Document"
    include:
      - ".*/backend/src/document/.*"
  - name: "(Backend) Election"
    include:
      - ".*/backend/src/election/.*"
  - name: "(Backend) EML"
    include:
      - ".*/backend/src/eml/.*"
  - name: "(Backend) Files"
    include:
      - ".*/backend/src/files/.*"
  - name: "(Backend) Investigation"
    include:
      - ".*/backend/src/investigation/.*"
  - name: "(Backend) PDF generation"
    include:
      - ".*/backend/src/pdf_gen/.*"
  - name: "(Backend) Polling station"
    include:
      - ".*/backend/src/polling_station/.*"
  - name: "(Backend) Report"
    include:
      - ".*/backend/src/report/.*"
  - name: "(Backend) Summary"
    include:
      - ".*/backend/src/summary/.*"
  - name: "(Backend) Test data generation"
    include:
      - ".*/backend/src/test_data_gen/.*"
  - name: "(Backend) Zip"
    include:
      - ".*/backend/src/zip/.*"
  - name: "(Backend) bin/abacus"
    include:
      - ".*/backend/src/bin/abacus.rs"
  - name: "(Backend) bin/gen-openapi"
    include:
      - ".*/backend/src/bin/gen-openapi.rs"
  - name: "(Backend) bin/gen-openapi"
    include:
      - ".*/backend/src/bin/gen-test-election.rs"
  - name: "(Backend) App error"
    include:
      - ".*/backend/src/app_error.rs"
  - name: "(Backend) error"
    include:
      - ".*/backend/src/error.rs"
  - name: "(Backend) fixtures"
    include:
      - ".*/backend/src/fixtures.rs"
  - name: "(Backend) lib"
    include:
      - ".*/backend/src/lib.rs"
  - name: "(Backend) Router"
    include:
      - ".*/backend/src/router.rs"
  - name: "(Backend) Integration tests"
    include:
      - ".*/backend/tests/.*"
  - name: "(Backend) SQL Migrations"
    include:
      - ".*/backend/migrations/.*"
  - name: "(Backend) Typst templates"
    include:
      - ".*/backend/templates/.*"

  # Frontend src/components
  - name: "(Frontend) Components/committee_session"
    include:
      - ".*/frontend/src/components/committee_session/.*"
  - name: "(Frontend) Components/data_entry"
    include:
      - ".*/frontend/src/components/data_entry/.*"
  - name: "(Frontend) Components/election"
    include:
      - ".*/frontend/src/components/election/.*"
  - name: "(Frontend) Components/error"
    include:
      - ".*/frontend/src/components/error/.*"
  - name: "(Frontend) Components/footer"
    include:
      - ".*/frontend/src/components/footer/.*"
  - name: "(Frontend) components/generated"
    include:
      - ".*/frontend/src/components/generated/.*"
  - name: "(Frontend) components/layout"
    include:
      - ".*/frontend/src/components/layout/.*"
  - name: "(Frontend) components/messages"
    include:
      - ".*/frontend/src/components/messages/.*"
  - name: "(Frontend) Components/navbar"
    include:
      - ".*/frontend/src/components/navbar/.*"
  - name: "(Frontend) components/page_title"
    include:
      - ".*/frontend/src/components/page_title/.*"
  - name: "(Frontend) components/polling_station"
    include:
      - ".*/frontend/src/components/polling_station/.*"
  - name: "(Frontend) Lib/UI"
    include:
      - ".*/frontend/src/components/ui/.*"

  # Frontend src/features
  - name: "(Frontend) Modules/account"
    include:
      - ".*/frontend/src/features/account/.*"
  - name: "(Frontend) Modules/data_entry"
    include:
      - ".*/frontend/src/features/data_entry/.*"
  - name: "(Frontend) features/data_entry_detail"
    include:
      - ".*/frontend/src/features/data_entry_detail/.*"
  - name: "(Frontend) Modules/data_entry_home"
    include:
      - ".*/frontend/src/features/data_entry_home/.*"
  - name: "(Frontend) features/dev"
    include:
      - ".*/frontend/src/features/dev/.*"
  - name: "(Frontend) Modules/election_create"
    include:
      - ".*/frontend/src/features/election_create/.*"
  - name: "(Frontend) Modules/election_management"
    include:
      - ".*/frontend/src/features/election_management/.*"
  - name: "(Frontend) Modules/election_overview"
    include:
      - ".*/frontend/src/features/election_overview/.*"
  - name: "(Frontend) Modules/election_status"
    include:
      - ".*/frontend/src/features/election_status/.*"
  - name: "(Frontend) features/investigations"
    include:
      - ".*/frontend/src/features/investigations/.*"
  - name: "(Frontend) Modules/logs"
    include:
      - ".*/frontend/src/features/logs/.*"
  - name: "(Frontend) Modules/polling_stations"
    include:
      - ".*/frontend/src/features/polling_stations/.*"
  - name: "(Frontend) Modules/resolve_differences"
    include:
      - ".*/frontend/src/features/resolve_differences/.*"
  - name: "(Frontend) Modules/resolve_errors"
    include:
      - ".*/frontend/src/features/resolve_errors/.*"
  - name: "(Frontend) Modules/users"
    include:
      - ".*/frontend/src/features/users/.*"

  # Frontend src level
  - name: "(Frontend) Lib/API"
    include:
      - ".*/frontend/src/api/.*"
  - name: "(Frontend) App"
    include:
      - ".*/frontend/src/app/.*"
  - name: "(Frontend) Hooks"
    include:
      - ".*/frontend/src/hooks/.*"
  - name: "(Frontend) Lib/i18n"
    include:
      - ".*/frontend/src/i18n/.*"
  - name: "(Frontend) src/styles"
    include:
      - ".*/frontend/src/styles/.*"
  - name: "(Frontend) src/testing"
    include:
      - ".*/frontend/src/testing/.*"
  - name: "(Frontend) src/types"
    include:
      - ".*/frontend/src/types/.*"
  - name: "(Frontend) Lib/Util"
    include:
      - ".*/frontend/src/utils/.*"

  # Frontend root level
  - name: "(Frontend) e2e tests"
    include:
      - ".*/frontend/e2e-tests/.*"

languages:
  - name: "css"
  - name: "javascript"
  - name: "sqlite"
    production:
      include:
        - ".*/migrations/.*[.]sql"
      exclude:
        - ".*/fixtures/.*[.]sql"
    test:
    generated:

  - name: "rust"
    production:
      include:
        - ".*/gen-openapi[.]rs"
        - ".*/api[.]rs"
    test:
      include:
        - ".*/gen-test-election[.]rs"
        - ".*/test_data_gen/.*[.]rs"
        - ".*/typst_tests[.]rs"
        - ".*/backend/fuzz/.*"
    generated:
      include:
        - ".*/gen/.*[.]rs"
        - ".*/.sqlx/.*[.]json"

  - name: "typescript"
    production:
    test:
      include:
        - ".*/[.]storybook/.*"
        - ".*[.]e2e[.]ts"
        - ".*.stories[.]tsx"
        - ".*/src/components/error/NotAvailableInMock[.]tsx"
        - ".*/src/features/dev/.*"
        - ".*/testing/.*"
        - ".*/e2e-tests/.*"
    generated:
      include:
        - ".*/generated/.*[.]ts"

exclude:
  - ".*/backend/[.]sqlx/.*"
  - ".*/documentatie/.*"
  - ".*/frontend/scripts/.*"
  - ".*[.]d[.]ts"
  - ".*[.]config[.]ts"

dependencychecker:
  blocklist:
    - "backend"
  transitive: true

architecture:
  enabled: true
  custom_components: true

thirdpartyfindings:
  enabled: true
